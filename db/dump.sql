-- generated by running:
-- ```
-- $ sqlite3 hardware.db
-- > .dump
-- > .read dump.sql
-- ```
PRAGMA foreign_keys=ON;
BEGIN TRANSACTION;
CREATE TABLE org (
    id integer PRIMARY KEY,
    name string
);
INSERT INTO org VALUES(1,'Acme, Inc.');
INSERT INTO org VALUES(2,'Lear Labs');
INSERT INTO org VALUES(3,'Montague Machinery');
CREATE TABLE subscription(
    id integer PRIMARY KEY, 
    name string, 
    subscription_buyer int, 
    subscription_seller int, 
    FOREIGN KEY (subscription_buyer) REFERENCES org(id),
    FOREIGN KEY (subscription_seller) REFERENCES org(id)
);
INSERT INTO subscription VALUES(1,'Lear Labs Oct 2021 batch - 3 sorters',2,1);
INSERT INTO subscription VALUES(2,'Lear Labs Nov 2021 batch - 2 sorters',2,1);
INSERT INTO subscription VALUES(3,'Montague Oct 2021',3,1);
CREATE TABLE location (
    id integer PRIMARY KEY,
    name string
);
INSERT INTO location VALUES(1,'Lear Labs West Colorado Warehouse');
INSERT INTO location VALUES(2,'Lear Labs San Jose office');
INSERT INTO location VALUES(3,'Montague Montpelier office');
CREATE TABLE asset(
    id INTEGER PRIMARY KEY,
    name TEXT,
    serial TEXT, 
    subscription_id INTEGER,
    location_id INTEGER,
    impaired INTEGER,
    FOREIGN KEY (subscription_id) REFERENCES subscription(id),
    FOREIGN KEY (location_id) REFERENCES location(id)
);
INSERT INTO asset VALUES(1,'Lear Labs Shape 1','SHAPE-0042',1,1,1);
INSERT INTO asset VALUES(2,'Lear Labs Shape 2','SHAPE-0043',1,1,1);
INSERT INTO asset VALUES(3,'Lear Labs Shape 3','SHAPE-0044',2,2,0);
INSERT INTO asset VALUES(4,'Montague Shape 1','SHAPE-0045',3,3,1);
INSERT INTO asset VALUES(5,'Montague Shape 2','SHAPE-0046',3,3,0);
CREATE TABLE impaired(
  id INTEGER PRIMARY KEY,
  asset_id INTEGER,
  description TEXT,
  resolved BOOLEAN,
  impaired_date DATE,
  resolved_date DATE,
  FOREIGN KEY (asset_id) REFERENCES asset(id)
);
INSERT INTO impaired VALUES(1,1,'Not powering up.',0,'2025-10-15 18:00:00',null);
INSERT INTO impaired VALUES(2,2,'Screen flickering.',0,'2025-10-10 18:30:00',null);
INSERT INTO impaired VALUES(3,4,'Bad quality output.',0,'2025-10-11 17:00:00',null);
COMMIT;